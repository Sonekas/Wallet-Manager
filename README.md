# üìä App de Controle e Automa√ß√£o de Carteira de Investimentos

## üéØ Vis√£o Geral

Aplica√ß√£o desktop desenvolvida em Python para controle e automa√ß√£o de carteira de investimentos. Permite cadastro de ativos, acompanhamento de cota√ß√µes em tempo real, gera√ß√£o de relat√≥rios, an√°lise de risco e proje√ß√µes financeiras.

## ‚ú® Funcionalidades Principais

### üìà Gest√£o de Ativos

- **Cadastro de Ativos**: Adicione a√ß√µes, FIIs, ETFs e outros ativos
- **Transa√ß√µes**: Registre compras e vendas com hist√≥rico completo
- **Pre√ßos em Tempo Real**: Integra√ß√£o com Yahoo Finance
- **C√°lculo Autom√°tico**: Pre√ßo m√©dio, rentabilidade e valor atual

### üìä An√°lise e Relat√≥rios

- **Relat√≥rios Excel/PDF**: Relat√≥rios detalhados da carteira
- **An√°lise de Risco**: Volatilidade e Beta dos ativos
- **Compara√ß√£o com Benchmark**: Compare performance com Ibovespa
- **Proje√ß√µes**: Simula√ß√µes de Monte Carlo e proje√ß√µes lineares

### üîî Alertas e Automa√ß√£o

- **Alertas de Pre√ßo**: Configure alertas para pre√ßos espec√≠ficos
- **Alertas de Varia√ß√£o**: Monitore varia√ß√µes percentuais
- **Atualiza√ß√£o Autom√°tica**: Cota√ß√µes atualizadas em background
- **Calend√°rio de Eventos**: Gerencie dividendos e vencimentos

### üíæ Backup e Exporta√ß√£o

- **Backup Autom√°tico**: C√≥pias de seguran√ßa do banco de dados
- **Exporta√ß√£o CSV/JSON**: Dados port√°veis
- **Importa√ß√£o de Dados**: Restaure dados de arquivos externos

## üèóÔ∏è Arquitetura

### Princ√≠pios Aplicados

- **SOLID**: Single Responsibility, Open/Closed, Dependency Inversion
- **DRY**: Don't Repeat Yourself
- **KISS**: Keep It Simple, Stupid
- **Clean Code**: C√≥digo limpo e leg√≠vel

### Estrutura Modular

```
src/
‚îú‚îÄ‚îÄ main.py                 # Aplica√ß√£o principal
‚îú‚îÄ‚îÄ config.py              # Configura√ß√µes centralizadas
‚îú‚îÄ‚îÄ database_manager.py    # Gerenciamento de banco de dados
‚îú‚îÄ‚îÄ asset_registration.py  # Cadastro de ativos
‚îú‚îÄ‚îÄ yfinance_integration.py # Integra√ß√£o com Yahoo Finance
‚îú‚îÄ‚îÄ report_generator.py    # Gera√ß√£o de relat√≥rios
‚îú‚îÄ‚îÄ plot_manager.py        # Gr√°ficos e visualiza√ß√µes
‚îú‚îÄ‚îÄ risk_analysis.py       # An√°lise de risco
‚îú‚îÄ‚îÄ projection_simulation.py # Proje√ß√µes e simula√ß√µes
‚îú‚îÄ‚îÄ alert_manager.py       # Sistema de alertas
‚îú‚îÄ‚îÄ event_calendar.py      # Calend√°rio de eventos
‚îú‚îÄ‚îÄ logger.py              # Sistema de logging
‚îî‚îÄ‚îÄ test_main.py          # Testes unit√°rios
```

### Classes Principais

- **`InvestmentCarteiraApp`**: Orquestra√ß√£o geral da aplica√ß√£o
- **`CarteiraDataManager`**: Gest√£o de dados da carteira
- **`UIManager`**: Interface do usu√°rio
- **`ThemeManager`**: Gerenciamento de temas
- **`BackgroundTaskManager`**: Tarefas em segundo plano
- **`DateFormatter`**: Utilit√°rio de formata√ß√£o de datas

## üöÄ Instala√ß√£o e Uso

### Pr√©-requisitos

- Python 3.8 ou superior
- pip (gerenciador de pacotes Python)

### Instala√ß√£o

1. **Clone o reposit√≥rio**

```bash
git clone https://github.com/seu-usuario/investment_app.git
cd investment_app
```

2. **Instale as depend√™ncias**

```bash
pip install -r requirements.txt
```

3. **Execute a aplica√ß√£o**

```bash
python src/main.py
```

### Configura√ß√£o Inicial

1. **Primeiro Uso**: A aplica√ß√£o criar√° automaticamente o banco de dados
2. **Cadastro de Ativos**: Use "Cadastrar Ativo" para adicionar seus investimentos
3. **Atualiza√ß√£o de Cota√ß√µes**: Clique em "Atualizar Cota√ß√µes" para buscar pre√ßos atuais
4. **Gera√ß√£o de Relat√≥rios**: Use "Gerar Relat√≥rio" para criar relat√≥rios Excel/PDF

## üìä Tipos de Ativos Suportados

### ‚úÖ Ativos com Cota√ß√£o Autom√°tica

O app integra com Yahoo Finance para atualiza√ß√£o autom√°tica de pre√ßos:

#### **A√ß√µes**

- **Brasileiras**: PETR4, VALE3, ITUB4, BBDC4
- **Estrangeiras**: AAPL, MSFT, GOOGL, TSLA
- **Funcionalidades**: Cota√ß√£o autom√°tica, an√°lise de risco, compara√ß√£o com benchmark

#### **FIIs (Fundos Imobili√°rios)**

- **Exemplos**: MXRF11, HGLG11, XPML11, VISC11
- **Funcionalidades**: Cota√ß√£o autom√°tica, controle de dividendos, an√°lise de rentabilidade

#### **ETFs (Fundos de √çndice)**

- **Exemplos**: BOVA11, SMAL11, IVVB11, HASH11
- **Funcionalidades**: Cota√ß√£o autom√°tica, compara√ß√£o com √≠ndices, an√°lise de volatilidade

### ‚ö†Ô∏è Ativos com Cadastro Manual

#### **Tesouro Direto**

- **Exemplos**: SELIC, IPCA, IGPM, Prefixado
- **Funcionalidades**: Controle de posi√ß√µes, c√°lculo de rentabilidade
- **Limita√ß√£o**: Sem cota√ß√£o autom√°tica (inserir pre√ßos manualmente)

#### **Outros Ativos**

- **Exemplos**: CDBs, LCIs, LCAs, a√ß√µes estrangeiras
- **Funcionalidades**: Controle de posi√ß√µes, c√°lculo de rentabilidade
- **Flexibilidade**: Qualquer tipo de ativo pode ser cadastrado

### üìà Funcionalidades por Tipo

| Tipo de Ativo  | Cota√ß√£o Autom√°tica | An√°lise de Risco | Gr√°ficos | Alertas |
| -------------- | ------------------ | ---------------- | -------- | ------- |
| A√ß√µes          | ‚úÖ                 | ‚úÖ               | ‚úÖ       | ‚úÖ      |
| FIIs           | ‚úÖ                 | ‚úÖ               | ‚úÖ       | ‚úÖ      |
| ETFs           | ‚úÖ                 | ‚úÖ               | ‚úÖ       | ‚úÖ      |
| Tesouro Direto | ‚ùå                 | ‚ö†Ô∏è               | ‚ö†Ô∏è       | ‚úÖ      |
| Outros         | ‚ùå                 | ‚ö†Ô∏è               | ‚ö†Ô∏è       | ‚úÖ      |

### üí° Dicas de Uso

#### **Para Tesouro Direto:**

- Use o valor de face como pre√ßo (ex: R$ 1,00 para SELIC)
- Atualize pre√ßos manualmente quando houver atualiza√ß√µes
- Configure alertas para acompanhar rentabilidade

#### **Para A√ß√µes/FIIs/ETFs:**

- Use tickers corretos (ex: PETR4, n√£o PETR4.SA)
- A cota√ß√£o √© atualizada automaticamente
- An√°lise de risco completa dispon√≠vel

## üìã Funcionalidades Detalhadas

### Cadastro de Ativos

- **Ticker**: C√≥digo do ativo (ex: PETR4, VALE3)
- **Tipo**: A√ß√£o, FII, ETF, Tesouro, Outro
- **Quantidade**: N√∫mero de cotas/a√ß√µes
- **Pre√ßo**: Valor da transa√ß√£o
- **Data**: Data da compra/venda

### An√°lise de Risco

- **Volatilidade**: Medida de varia√ß√£o do pre√ßo
- **Beta**: Correla√ß√£o com o mercado (Ibovespa)
- **Per√≠odo**: √öltimo ano por padr√£o

### Proje√ß√µes e Simula√ß√µes

- **Monte Carlo**: Simula√ß√£o estat√≠stica com m√∫ltiplos cen√°rios
- **Proje√ß√£o Linear**: Crescimento constante baseado em taxa de retorno
- **Configur√°vel**: N√∫mero de simula√ß√µes e per√≠odo

### Sistema de Alertas

- **Pre√ßo Alvo**: Alerta quando ativo atinge pre√ßo espec√≠fico
- **Varia√ß√£o Percentual**: Alerta para varia√ß√µes significativas
- **Notifica√ß√µes**: Pop-ups e logs autom√°ticos

## üé® Interface

### Temas Dispon√≠veis

- **Tema Claro**: Fundo branco, texto escuro
- **Tema Escuro**: Fundo escuro, texto claro

### Layout Responsivo

- **Bot√µes Adaptativos**: Reorganizam conforme tamanho da janela
- **Tabela Interativa**: Clique duplo para ver gr√°ficos
- **Pesquisa**: Filtre ativos por nome ou tipo

## üîß Configura√ß√£o

### Arquivo de Configura√ß√£o

O arquivo `src/config.py` centraliza todas as configura√ß√µes:

```python
# Exemplo de configura√ß√£o
APP_CONFIG = {
    "title": "App de Controle e Automa√ß√£o de Carteira de Investimentos",
    "version": "2.0.0",
    "update_interval_minutes": 5,
    "default_theme": "light"
}
```

### Personaliza√ß√£o

- **Intervalo de Atualiza√ß√£o**: Configure em `APP_CONFIG`
- **Temas**: Adicione novos temas em `THEME_CONFIG`
- **Valida√ß√µes**: Ajuste regras em `VALIDATION_CONFIG`
- **Mensagens**: Personalize textos em `MESSAGES`

## üß™ Testes

### Executar Testes

```bash
python src/test_main.py
```

### Cobertura de Testes

- **Testes Unit√°rios**: Cada classe tem seus pr√≥prios testes
- **Testes de Integra√ß√£o**: Verifica√ß√£o de fluxos completos
- **Testes de Valida√ß√£o**: Verifica√ß√£o de dados de entrada
- **Testes de Erro**: Tratamento de exce√ß√µes

### Tipos de Teste

- **DateFormatter**: Formata√ß√£o de datas
- **ThemeManager**: Gerenciamento de temas
- **CarteiraDataManager**: C√°lculos de carteira
- **UIManager**: Interface do usu√°rio
- **Config**: Fun√ß√µes de configura√ß√£o
- **Valida√ß√£o**: Regras de neg√≥cio

## üìä M√©tricas de Qualidade

### Antes da Refatora√ß√£o

- **850 linhas** em arquivo √∫nico
- **1 classe** monol√≠tica
- **C√≥digo duplicado** em v√°rias partes
- **Dif√≠cil manuten√ß√£o**

### Depois da Refatora√ß√£o

- **915 linhas** organizadas em **6 classes**
- **Separa√ß√£o clara** de responsabilidades
- **Reutiliza√ß√£o** de c√≥digo
- **F√°cil manuten√ß√£o** e extens√£o
- **Type hints** e documenta√ß√£o completa

## üîÑ Melhorias Implementadas

### Arquitetura

- ‚úÖ **Modulariza√ß√£o**: C√≥digo dividido em m√≥dulos l√≥gicos
- ‚úÖ **SOLID**: Princ√≠pios aplicados corretamente
- ‚úÖ **DRY**: Elimina√ß√£o de c√≥digo duplicado
- ‚úÖ **KISS**: Simplifica√ß√£o da l√≥gica

### Performance

- ‚úÖ **Threading**: Tarefas em segundo plano otimizadas
- ‚úÖ **Mem√≥ria**: Melhor gest√£o de recursos
- ‚úÖ **Interface**: Layout responsivo e eficiente

### Manutenibilidade

- ‚úÖ **Configura√ß√£o**: Centralizada e flex√≠vel
- ‚úÖ **Testes**: Cobertura completa
- ‚úÖ **Documenta√ß√£o**: Docstrings e coment√°rios
- ‚úÖ **Type Hints**: Tipagem est√°tica

## üöÄ Roadmap

### Pr√≥ximas Vers√µes

- [ ] **API REST**: Interface web
- [ ] **Mobile**: Aplicativo m√≥vel
- [ ] **Cloud**: Sincroniza√ß√£o na nuvem
- [ ] **IA**: An√°lise preditiva
- [ ] **Social**: Compartilhamento de estrat√©gias

### Melhorias T√©cnicas

- [ ] **Docker**: Containeriza√ß√£o
- [ ] **CI/CD**: Pipeline automatizado
- [ ] **Monitoramento**: M√©tricas em tempo real
- [ ] **Cache**: Otimiza√ß√£o de performance

## ü§ù Contribui√ß√£o

### Como Contribuir

1. **Fork** o projeto
2. **Crie** uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. **Commit** suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. **Push** para a branch (`git push origin feature/AmazingFeature`)
5. **Abra** um Pull Request

### Padr√µes de C√≥digo

- **PEP 8**: Estilo de c√≥digo Python
- **Type Hints**: Tipagem est√°tica
- **Docstrings**: Documenta√ß√£o de fun√ß√µes
- **Testes**: Cobertura m√≠nima de 80%

## üë®‚Äçüíª Autor

**Sonekas** - [GitHub](https://github.com/Sonekas)

---
